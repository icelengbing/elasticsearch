[[indices-clearcache]]
== 清除缓存

清除缓存 API 允许清除所有缓存或与一个或多个索引关联的特定缓存。

[source,js]
--------------------------------------------------
POST /twitter/_cache/clear
--------------------------------------------------
// CONSOLE
// TEST[setup:twitter]

默认情况下，API 将清除所有缓存。通过将 `query`，`fielddata` 或 `request` url参数设置为 `true`，可以显式清除特定的缓存。

[source,js]
--------------------------------------------------
POST /twitter/_cache/clear?query=true      <1>
POST /twitter/_cache/clear?request=true    <2>
POST /twitter/_cache/clear?fielddata=true   <3>
--------------------------------------------------
// CONSOLE
// TEST[continued]
<1> 仅清除 query 缓存
<2> 仅清除 request 缓存
<3> 仅清除 fielddata 缓存

除此之外，还可以通过使用逗号分隔的应清除字段列表指定 `fields` url 参数来清除与特定字段相关的所有缓存。需注意，提供的名称必须引用具体字段 --  不支持对象和字段别名。

[source,js]
--------------------------------------------------
POST /twitter/_cache/clear?fields=foo,bar   <1>
--------------------------------------------------
// CONSOLE
// TEST[continued]
<1> 清除 `foo` 和 `bar` 字段缓存

[float]
=== 多索引

清除缓存 API 可以通过一次调用应用于多个索引，甚至可以应用于 `_all` 索引。

[source,js]
--------------------------------------------------
POST /kimchy,elasticsearch/_cache/clear

POST /_cache/clear
--------------------------------------------------
// CONSOLE
// TEST[s/^/PUT kimchy\nPUT elasticsearch\n/]
